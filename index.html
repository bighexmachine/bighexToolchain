<html>
  <head>


	<title>Big Hex Machine - University of Bristol</title>

	<link rel="stylesheet" type="text/css" href="style.css" />



  </head>

  <body>

  	<div id="container">

      <h1>How to compile and run a program written in X.</h1>

      <h2>Notes</h2>

      <ul>
        <li>You need to have GCC or another C compiler installed.<br>
        <li>This explanation will be written using linux commands. There will be similar commands and tools for your own operating system.<br>
      </ul>

      <h2>How to Compile</h2>

      <ol>
        <li>Download and extract this <a href="xResources.zip">zip file</a> containing the tools you will need.<br>

        <li>Open the terminal to this folder and compile the emulator file called 32bitSimulatorForBinaryImage.c by typing <span class="code">gcc 32bitSimulatorForBinaryImage.c</span> (and pressing enter) or using your favourite compiler.<br>

        <li>Copy the X compiler binary to a.bin so it can be run by the simulator with <br> <span class="code">cp x_to_16bitHex_compiler.bin a.bin</span><br>

        <li>Run the simulator executable, streaming the x source code in to standard input, with <span class="code">./a.out < io.x</span>. This will produce two files: sim2 and sim3. These are the hex input memory images for the machine.<br>

        <li>Now compile 16bitSimulatorForHexImages.c with <span class="code">gcc 16bitSimulatorForHexImages.c</span>.<br>

        <li>Run the compiled executable with <span class="code">./a.out</span>.
      </ol>

    Alternatively, run the bash script <span class="code">./compile &lt;source_code_filename.x&gt;</span> to execute these commands automatically.

    <h2>How to Run the Executable</h2>

    There are three options on where to run your executable:

    <ol>
    	<li>Via C: You can execute the code via the C Simulator as outlined in steps 5 and 6 above.
	    <li>Via Java: We have implimented a model of the machine in a simulator called <a href="http://uobteachingtechnologist.github.io/ModuleSim/">ModuleSim</a>.
    		The model for the BigHex Machine can be found via a <a href = "https://github.com/bighexmachine/BigHexModuleSim">Github Repo</a>. You can load the ram image files (produced above) in to the memory modules and execute the code inside the simulator.
    	<li>Via Javascript: We have a <a href = "https://bighexmachine.github.io/JavascriptSimulator/">Javascript Simulator</a> for the BigHex Machine. Similarly you should use the ram image files produced above) to load the program. 
    </ol>

    <h2>How to run code on the Big Hex Machine</h2>

      <ol>
        <li>While the Big Hex Machine is running connect to the wifi network "bighex". This does not require any credentials. Please be aware there is a slight delay between the time the machine is turned on and the "bighex" access point appearing.
        <li>Open a web browser and type the address: http://bighex.com. You will notice that any web address will get redirected to this page.
        <li>After the web app has been requested the control panel should appear. Click on 'Load an X Program' and then enter your source code.
        <li>Clicking on submit will send the X Program to the machine and compile it. The machine will also automatically load the machine code into the machine's memory - you should see this happening on the machine itself.
        <li>Going back to the control panel will then enable you to start the machine executing. You can also change the clock speed to view the process in slow motion.

      </ol>


    </div>

    <img id = "logo" src = "logo.png" width="200">

     </body>
</html>
